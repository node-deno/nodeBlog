<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<script>

    function f1(query1) {
        let p1 = new Promise((resolve, reject) => {
            setTimeout(function () {
                resolve(query1)
            }, 1000)
        })

        console.log('p1', p1)
        p1.then(res => {
            console.log('f1f1f1f1f1f1f1f1f1f1')
            console.log('query1', query1)
            console.log('res', res)
            console.log('f1f1f1f1f1f1f1f1f1f1')
        })
        return p1
    }

    function f2(query2) {
        let query1 = query2
        // f1(query1).then(res => {
        //     console.log('f2f2f2f2f2f2')
        //     console.log(res)
        //     console.log('f2f2f2f2f2f2')
        // })
        return f1(query1)
    }

    function f3(query3) {
        let query2 = query3.q2
        return f2(query2).then(res => {
            console.log('f3f3f3f3f3f3f3f3')
            console.log(res)
            let t1 = new Date()
            console.log(t1)
            console.log('f3f3f3f3f3f3f3f3')
            return t1
        })
    }

    function f4() {
        let query3 = {
            q2: 123456
        }
        let result = f3(query3)
        console.log('==================')
        console.log(result)
        result.then(res => {
            console.log(res)
        })
        console.log('==================')
    }

    f4()


</script>

</body>
</html>